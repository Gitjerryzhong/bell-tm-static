<ng-container *ngIf="form !=undefined">
    <div class="btn-toolbar">
        <div class="btn-group ml-auto">
            <button class='btn btn-secondary' (click)="commit()">提交</button>
            <button class='btn btn-primary' (click)="save()">保存</button>
        </div>
        <div class="btn-group ml-2">
            <button class='btn btn-secondary' (click)="goBack()">返回</button>
        </div>
    </div>
    <form-title>项目申报{{form.id}}</form-title>
    <form role="form">
        <div class="row">
            <div class="form-group col-md-12">
                <label class="control-label">项目名称</label>
                <input class="form-control" name="name" type="text" [(ngModel)]="form.name" placeholder="申报的项目名称"/>
            </div>
        </div>
        <div class="row">
            <div class="form-group col-md-3">
                <label class="control-label">项目类别</label>
                <select name="subtype" class="form-control" [(ngModel)]="form.subtypeId">
                    <option value="" disabled>请选择</option>
                    <option *ngFor="let item of subtypes" [ngValue]="item.id">
                        {{ item.name }}
                    </option>
                </select>
            </div>
            <div class="form-group col-md-3">
                <label class="control-label">项目等级</label>
                <select name="level" class="form-control" [(ngModel)]="form.level">
                    <option *ngFor="let item of levels" [ngValue]="item.value">
                        {{ item.label }}
                    </option>
                </select>
            </div>
            <div class="form-group col-md-6">
                <label class="control-label">Email</label>
                <input class="form-control" name="email" type="text" [(ngModel)]="form.email" placeholder="常用电子邮箱"/>
            </div>
        </div>

        <div class="row">
            <div class="form-group col-md-3">
                <label class="control-label">职称</label>
                <select name="title" class="form-control" [(ngModel)]="form.title">
                    <option *ngFor="let item of titles" [ngValue]="item">
                        {{ item }}
                    </option>
                </select>
            </div>
            <div class="form-group col-md-3">
                <label class="control-label">学位</label>
                <select name="degree" class="form-control" [(ngModel)]="form.degree">
                    <option *ngFor="let item of degrees" [ngValue]="item">
                        {{ item }}
                    </option>
                </select>
            </div>
            <div class="form-group col-md-3">
                <label class="control-label">职务</label>
                <select name="office" class="form-control" [(ngModel)]="form.office">
                    <option *ngFor="let item of offices" [ngValue]="item">
                        {{ item }}
                    </option>
                </select>
            </div>
            <div class="form-group col-md-3">
                <label class="control-label">单位</label>
                <select name="department" class="form-control" [(ngModel)]="form.departmentId">
                    <option *ngFor="let item of departments" [ngValue]="item.id">
                        {{ item.name }}
                    </option>
                </select>
            </div>
        </div>
        <div class="row">
            <div class="form-group col-md-12">
                <label class="control-label">参与人</label>
                <div class="row">
                    <div class="col-2" *ngFor="let item of form.memberList; let i = index">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">{{i+1}}:</span>
                                <input class="form-control" type="text" name="member{{i}}" [(ngModel)]="item.value">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>{{form | json}}
</ng-container>
